{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Contract/SOW Schema",
  "type": "object",
  "required": [
    "vendor_name",
    "client_name",
    "contract_id",
    "line_items"
  ],
  "properties": {
    "vendor_name": {
      "type": "string",
      "description": "Vendor/Supplier name"
    },
    "client_name": {
      "type": "string",
      "description": "Client name"
    },
    "contract_id": {
      "type": "string",
      "description": "Contract or SOW ID"
    },
    "currency": {
      "type": "string",
      "default": "USD",
      "description": "Currency code"
    },
    "net_terms": {
      "type": "string",
      "default": "Net 30",
      "description": "Payment terms"
    },
    "early_payment_discount": {
      "type": ["number", "null"],
      "description": "Early payment discount percentage (0..1)"
    },
    "default_tax_rate": {
      "type": "number",
      "default": 0.0909,
      "description": "Default tax rate (0..1)"
    },
    "allowed_variance_pct": {
      "type": "number",
      "default": 2.0,
      "description": "Allowed variance percentage for unit prices"
    },
    "line_items": {
      "type": "array",
      "description": "Line items in contract",
      "items": {
        "type": "object",
        "required": ["description", "unit_price"],
        "properties": {
          "description": {
            "type": "string",
            "description": "Item description"
          },
          "sku": {
            "type": ["string", "null"],
            "description": "SKU or product code"
          },
          "unit_price": {
            "type": "number",
            "description": "Unit price"
          },
          "max_quantity": {
            "type": ["number", "null"],
            "description": "Maximum allowed quantity"
          },
          "discount_pct": {
            "type": ["number", "null"],
            "description": "Discount percentage (0..1)"
          },
          "tax_rate": {
            "type": ["number", "null"],
            "description": "Tax rate for this line (0..1)"
          }
        }
      }
    }
  }
}

